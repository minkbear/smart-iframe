# Smart Iframe for WordPress

Smart Iframe ‡πÄ‡∏õ‡πá‡∏ô JavaScript library ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô iframe ‡πÉ‡∏ô WordPress ‡∏°‡∏µ‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå auto-resize, redirect handling ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ cross-origin iframe

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (Non-Technical)
- **[‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÜ](docs/WORDPRESS-SIMPLE.md)** - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ copy-paste ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤ (Technical)
- **[WordPress Integration Guide](docs/wordpress-integration.md)** - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏û‡∏±‡∏í‡∏ô‡∏≤ plugin ‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î

## ‚ú® Features

- üîÑ **Auto-Resize**: ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á iframe ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤
- üöÄ **Auto-Redirect**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ redirect ‡∏à‡∏≤‡∏Å iframe ‡πÑ‡∏õ‡∏¢‡∏±‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥
- üõ°Ô∏è **Cross-Origin Support**: ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏Å‡∏±‡∏ö iframe ‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å
- ‚ö° **Performance Optimized**: ‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏£‡πá‡∏ß ‡πÉ‡∏ä‡πâ‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ô‡πâ‡∏≠‡∏¢
- üéØ **Easy Integration**: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢ ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢

## üöÄ Quick Start

‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏•‡∏¢? ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì:

- **‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ**: ‡∏≠‡πà‡∏≤‡∏ô [‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÜ](docs/WORDPRESS-SIMPLE.md) - ‡πÄ‡∏û‡∏µ‡∏¢‡∏á 3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô copy-paste
- **‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤**: ‡∏≠‡πà‡∏≤‡∏ô [WordPress Integration Guide](docs/wordpress-integration.md) - ‡∏™‡∏£‡πâ‡∏≤‡∏á plugin ‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á

## üì¶ Installation

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: CDN (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)

‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô WordPress theme ‡∏´‡∏£‡∏∑‡∏≠ child theme:

```php
// ‡πÉ‡∏ô functions.php
function enqueue_smart_iframe() {
    wp_enqueue_script(
        'smart-iframe',
        'https://cdn.jsdelivr.net/gh/minkbear/smart-iframe@main/dist/smart-iframe.min.js',
        array(),
        '1.0.0',
        true
    );
}
add_action('wp_enqueue_scripts', 'enqueue_smart_iframe');
```

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: WordPress Plugin

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `smart-iframe-plugin.php`:

```php
<?php
/**
 * Plugin Name: Smart Iframe
 * Description: Advanced iframe management with auto-resize and redirect handling
 * Version: 1.0.0
 * Author: Your Name
 */

if (!defined('ABSPATH')) {
    exit;
}

class SmartIframePlugin {
    
    public function __construct() {
        add_action('wp_enqueue_scripts', array($this, 'enqueue_scripts'));
        add_shortcode('smart_iframe', array($this, 'smart_iframe_shortcode'));
    }
    
    public function enqueue_scripts() {
        wp_enqueue_script(
            'smart-iframe',
            'https://cdn.jsdelivr.net/gh/minkbear/smart-iframe@main/dist/smart-iframe.min.js',
            array(),
            '1.0.0',
            true
        );
    }
    
    public function smart_iframe_shortcode($atts) {
        $atts = shortcode_atts(array(
            'src' => '',
            'height' => '800',
            'max_height' => '9000',
            'min_height' => '400',
            'allow_resize' => 'true',
            'allow_redirect' => 'true',
            'title' => 'Smart Iframe'
        ), $atts);
        
        if (empty($atts['src'])) {
            return '<p>Error: Smart Iframe src is required</p>';
        }
        
        return sprintf(
            '<div data-smart-iframe="%s" 
                  data-initial-height="%s"
                  data-max-height="%s" 
                  data-min-height="%s"
                  data-allow-resize="%s" 
                  data-allow-redirect="%s"
                  data-title="%s">
             </div>',
            esc_url($atts['src']),
            esc_attr($atts['height']),
            esc_attr($atts['max_height']),
            esc_attr($atts['min_height']),
            esc_attr($atts['allow_resize']),
            esc_attr($atts['allow_redirect']),
            esc_attr($atts['title'])
        );
    }
}

new SmartIframePlugin();
?>
```

## üöÄ Usage

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: HTML ‡∏ï‡∏£‡∏á‡πÉ‡∏ô WordPress

```html
<div data-smart-iframe="https://example.com/form" 
     data-initial-height="800"
     data-max-height="9000" 
     data-min-height="400"
     data-allow-resize="true" 
     data-allow-redirect="true"
     data-title="Contact Form">
</div>
```

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: WordPress Shortcode

```
[smart_iframe src="https://example.com/form" height="800" max_height="9000" title="Contact Form"]
```

### ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 3: Gutenberg Block

‡∏™‡∏£‡πâ‡∏≤‡∏á Custom HTML Block ‡πÅ‡∏•‡∏∞‡πÉ‡∏™‡πà:

```html
<div data-smart-iframe="https://example.com/form" 
     data-initial-height="800"
     data-max-height="9000">
</div>
```

## ‚öôÔ∏è Configuration Options

| Attribute | Default | Description |
|-----------|---------|-------------|
| `data-smart-iframe` | - | URL ‡∏Ç‡∏≠‡∏á iframe (required) |
| `data-initial-height` | `200` | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (px) |
| `data-max-height` | `null` | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (px) |
| `data-min-height` | `200` | ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î (px) |
| `data-allow-resize` | `true` | ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ |
| `data-allow-redirect` | `true` | ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ redirect |
| `data-allow-events` | `true` | ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï custom events |
| `data-scrolling` | `no` | iframe scrolling attribute |
| `data-sandbox` | `allow-scripts allow-same-origin allow-forms` | iframe sandbox |
| `data-title` | `Smart Iframe` | iframe title ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö accessibility |

## üéØ Use Cases

### 1. Contact Forms
```html
<div data-smart-iframe="https://forms.example.com/contact" 
     data-initial-height="600"
     data-max-height="1200"
     data-title="Contact Form">
</div>
```

### 2. Payment Forms
```html
<div data-smart-iframe="https://payment.example.com/checkout" 
     data-initial-height="800"
     data-allow-redirect="true"
     data-title="Payment Form">
</div>
```

### 3. Survey Forms
```html
<div data-smart-iframe="https://survey.example.com/form" 
     data-initial-height="500"
     data-max-height="2000"
     data-title="Survey Form">
</div>
```

### 4. Booking Systems
```html
<div data-smart-iframe="https://booking.example.com/calendar" 
     data-initial-height="700"
     data-max-height="1500"
     data-title="Booking Calendar">
</div>
```

## üìä Event Handling

‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö developers ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ custom functionality:

```javascript
// Iframe ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
window.smartIframes.on('iframe:ready', function(data) {
    // Handle iframe ready
});

// Iframe ‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡πÅ‡∏•‡πâ‡∏ß
window.smartIframes.on('iframe:resize', function(data) {
    // Handle resize event
    // data.height, data.width, data.method
});

// Iframe redirect ‡πÅ‡∏•‡πâ‡∏ß
window.smartIframes.on('iframe:redirect', function(data) {
    // Handle redirect event
    // data.url, data.target
});

// ‡∏ï‡∏£‡∏ß‡∏à‡∏û‡∏ö redirect
window.smartIframes.on('iframe:redirect-detected', function(data) {
    // Handle redirect detection
    // data.newUrl, data.oldUrl, data.redirectCount
});
```

## üõ°Ô∏è Security Features

1. **URL Validation**: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL ‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
2. **Sandbox Protection**: ‡πÉ‡∏ä‡πâ iframe sandbox attributes
3. **Cross-Origin Handling**: ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ cross-origin ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢
4. **Referrer Policy**: ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏£‡∏±‡πà‡∏ß‡πÑ‡∏´‡∏•‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• referrer

## üö® Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Iframe ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `data-allow-resize="true"`
2. ‡πÄ‡∏û‡∏¥‡πà‡∏° `data-initial-height` ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
3. ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `data-max-height` ‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Redirect ‡πÑ‡∏°‡πà‡∏ó‡∏≥‡∏á‡∏≤‡∏ô

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `data-allow-redirect="true"`
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö URL ‡πÉ‡∏ô query parameter `redirect=`
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö console errors

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤: Cross-Origin Errors

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ**:
1. ‡πÄ‡∏û‡∏¥‡πà‡∏° appropriate CORS headers ‡∏ó‡∏µ‡πà iframe source
2. ‡πÉ‡∏ä‡πâ `data-sandbox` attributes ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö referrer policy

## üìà Performance Tips

1. **Lazy Loading**: ‡πÉ‡∏ä‡πâ `loading="lazy"` (‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
2. **Initial Height**: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ `data-initial-height` ‡πÉ‡∏´‡πâ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏Ç‡∏ô‡∏≤‡∏î‡∏à‡∏£‡∏¥‡∏á
3. **Max Height**: ‡∏à‡∏≥‡∏Å‡∏±‡∏î `data-max-height` ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°
4. **CDN**: ‡πÉ‡∏ä‡πâ CDN ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö smart-iframe.min.js

## üîß Advanced Configuration

### Custom CSS

```css
.smart-iframe {
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.smart-iframe.loading {
    background: url('loading-spinner.gif') center no-repeat;
}
```

### WordPress Hooks

```php
// ‡πÄ‡∏û‡∏¥‡πà‡∏° custom attributes
add_filter('smart_iframe_attributes', function($attributes, $atts) {
    $attributes['data-custom'] = 'value';
    return $attributes;
}, 10, 2);

// Modify script loading
add_filter('smart_iframe_script_url', function($url) {
    return 'https://custom-cdn.com/smart-iframe.min.js';
});
```

## üìù License

MIT License - ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏ü‡∏£‡∏µ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏ó‡∏∏‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó

## üìñ ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- **[‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢ ‡πÜ](docs/WORDPRESS-SIMPLE.md)** - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡πÄ‡∏°‡∏≠‡∏£‡πå (3 ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô copy-paste)
- **[WordPress Integration Guide](docs/wordpress-integration.md)** - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤ (plugin, blocks, security)

## üÜò Support

‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°:
- GitHub Issues: [Repository Issues](https://github.com/minkbear/smart-iframe/issues)
- Documentation: [Full Documentation](https://github.com/minkbear/smart-iframe/wiki)